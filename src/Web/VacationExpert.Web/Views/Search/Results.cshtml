@using VacationExpert.Web.ViewModels.PropertyViewModel
@using VacationExpert.Data.Models.Enums

@model PropertyListViewModel;

@{
    var properties = Model.Properties.ToList();
    this.ViewData["Title"] = $"Properties in {Model.Properties.Select(x => x.City.ToString()).FirstOrDefault()}";
    var city = properties.Select(x => x.City).FirstOrDefault();
}

<link rel="stylesheet" href="~/css/search/results.css">
<link rel="stylesheet" href="~/lib/font-awesome/css/fontawesome.css" />
<link rel="stylesheet" href="~/lib/Font-Awesome/css/regular.min.css">
<link rel="stylesheet" href="~/lib/Font-Awesome/css/solid.min.css">


<div>
    @if(@properties.Count <=0) {
        <h2>Sorry no results found</h2>
            <a asp-controller="Home" asp-action="Index">Return to home page </a>

    }
    else {
    <h2>Search Results:</h2>

            <a asp-action="Results" asp-route-id="@Model.PreviousPageNumber" asp-route-city="@city">Previous</a>

    <a asp-action="Results" asp-route-id="@Model.NextPageNumber" asp-route-city="@city">Next</a>
    <partial name="_PropertiesListPartial" />
    }

</div>